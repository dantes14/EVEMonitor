# EVE屏幕监控警报系统 - 产品需求文档(PRD)

## 1. 产品概述

### 1.1 产品简介
EVE屏幕监控警报系统是一款专为《EVE：无烬星河》游戏玩家设计的辅助工具，通过监控屏幕内容实时识别游戏中的重要信息，并在检测到特定情况时发送警报通知。该系统能够同时监控多个游戏模拟器窗口，实现多账号同步警报功能。该系统主要运行在Windows操作系统上。

### 1.2 目标用户
- 《EVE：无烬星河》游戏玩家，特别是使用多账号同时游戏的玩家
- 需要实时监控游戏内星系安全状态的用户
- 需要获取游戏内舰船信息的公会/军团组织
- 使用Windows操作系统的PC用户

### 1.3 产品价值
- 提高游戏安全性，及时预警可能的危险
- 减轻多账号管理负担，实现自动化监控
- 为团队提供实时情报收集能力

## 2. 功能需求

### 2.1 屏幕监控功能
- **监控区域设置**：用户可自定义监控的屏幕区域范围（支持全屏或部分区域）
- **模拟器识别**：自动识别监控区域内的多个游戏模拟器窗口
- **定时截图**：按设定的时间间隔对监控区域进行截图
- **图像分割**：将截取的图像按模拟器实际展示区域进行切割，分别处理

### 2.2 图像识别与数据提取
- **星系名称识别**：识别每个模拟器右上角显示的当前星系名称
- **舰船信息识别**：识别右侧表格中显示的舰船信息，包括：
  - 军团归属
  - 驾驶员名称
  - 船型信息
- **数据结构化**：将识别的信息转换为结构化数据表格

### 2.3 警报系统
- **触发条件**：当识别到表格中有舰船数据时触发警报
- **钉钉推送**：通过接口将警报信息推送到指定的钉钉群组
- **处理延迟警报**：当图像处理时间超过设定阈值时，发送系统性能警报

### 2.4 用户界面与配置
- **监控区域配置**：可视化设置监控屏幕大小及位置
- **模拟器布局配置**：设置模拟器数量及各自的位置和大小
- **截图间隔设置**：自定义截图频率
- **处理阈值设置**：设置图像处理延迟警报的阈值
- **接口配置**：配置钉钉推送接口参数

### 2.5 系统性能
- **队列处理**：使用队列机制处理截图数据，避免系统卡死
- **热加载配置**：支持在不重启应用程序的情况下应用新的配置参数

## 3. 技术规格

### 3.1 系统架构
- **后台服务**：负责截图、图像处理和警报推送的常驻进程
- **配置界面**：用于设置监控参数的用户图形界面
- **数据处理模块**：负责图像识别和数据提取
- **警报模块**：负责触发和发送警报通知

### 3.2 核心技术
- **屏幕捕获技术**：高效低延迟的屏幕截图功能，适配Windows平台
- **图像处理**：图像分割和区域提取
- **OCR技术**：用于识别星系名称和舰船信息
- **队列管理**：截图数据的缓存和顺序处理机制

### 3.3 性能要求
- **响应时间**：从截图到识别完成不超过3秒（可配置）
- **资源占用**：CPU和内存占用率控制在合理范围内，不影响游戏运行
- **稳定性**：7*24小时稳定运行，无崩溃
- **系统要求**：支持Windows 10及以上版本操作系统

### 3.4 接口规范
- **钉钉推送接口**：遵循钉钉开放平台API规范
- **数据存储格式**：JSON格式存储识别结果
- **配置文件格式**：使用YAML或JSON格式存储配置信息

## 4. 用户体验

### 4.1 界面设计原则
- **简洁直观**：操作界面简单明了，易于上手
- **视觉反馈**：提供监控状态和识别结果的可视化展示
- **配置向导**：引导用户完成初始设置过程

### 4.2 使用流程
1. 首次启动时进行基本配置
2. 设置监控区域和模拟器布局
3. 配置警报推送参数
4. 启动监控服务
5. 在游戏运行时接收实时警报

### 4.3 异常处理
- **识别失败**：记录失败原因，不触发错误警报
- **系统资源不足**：自动调整处理频率，保证系统稳定
- **网络异常**：警报推送失败时进行重试，并记录日志

## 5. 发布计划

### 5.1 开发里程碑
- **第一阶段**：基础监控和图像分割功能
- **第二阶段**：OCR识别和数据提取功能
- **第三阶段**：警报推送和队列管理功能
- **第四阶段**：用户界面和配置功能
- **最终阶段**：性能优化和稳定性测试

### 5.2 测试计划
- **功能测试**：验证所有功能点是否按预期工作
- **性能测试**：测试在不同负载下的系统表现
- **兼容性测试**：测试在不同屏幕分辨率和模拟器配置下的表现
- **用户测试**：邀请目标用户进行实际使用测试

## 6. 未来扩展

### 6.1 潜在功能扩展
- **历史数据分析**：记录和分析历史警报数据
- **智能预警**：基于历史数据预测潜在风险
- **更多游戏支持**：扩展支持其他游戏的屏幕监控
- **移动端推送**：开发手机APP接收警报通知

### 6.2 技术演进
- **AI增强识别**：引入机器学习提高识别准确率
- **分布式部署**：支持多机器协同监控
- **云端同步**：数据和配置云端备份与同步

## 7. 附录

### 7.1 术语表
- **EVE**：指《EVE：无烬星河》游戏
- **模拟器**：运行手游的PC模拟器，如雷电模拟器、MuMu模拟器等
- **OCR**：光学字符识别(Optical Character Recognition)技术
- **钉钉**：阿里巴巴集团开发的即时通讯软件

### 7.2 参考资料
- 《EVE：无烬星河》游戏界面规范
- 钉钉开放平台API文档
- OCR技术实现指南
- Windows API 屏幕捕获文档 